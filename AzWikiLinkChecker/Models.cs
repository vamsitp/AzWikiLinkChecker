// <auto-generated />
namespace AzWikiLinkChecker
{
    using System;
    using System.Collections.Generic;

    using Markdig.Syntax.Inlines;

    using Newtonsoft.Json;

    public class Account
    {
        public string Org { get; set; }
        public string Project { get; set; }
        public string Wiki { get; set; }
        public string Version { get; set; }
        public string Token { get; set; }

        [JsonIgnore]
        public string BaseUrl => $"https://dev.azure.com/{this.Org}/{this.Project}";

        public string GetVersionedUrl(string url)
        {
            return string.IsNullOrWhiteSpace(this.Version) ? url : url + $"&versionDescriptor.version={this.Version}&versionDescriptor.versionType=branch";            
        }
    }

    // Wikis
    public class Wikis
    {
        public int count { get; set; }

        [JsonProperty("value")]
        public Wiki[] items { get; set; }
    }

    // Wiki
    public class Wiki
    {
        public string id { get; set; }
        public string name { get; set; }
        public string mappedPath { get; set; }
        public string remoteUrl { get; set; }
        public string type { get; set; }
        public string repositoryId { get; set; }
        public string url { get; set; }
        public Version[] versions { get; set; }

        [JsonIgnore]
        public List<Page> pages { get; set; } = new List<Page>();
    }
    
    public class Version
    {
        public string version { get; set; }
    }

    // Pages
    public class Pages
    {
        public int count { get; set; }

        [JsonProperty("value")]
        public Page[] items { get; set; }
    }

    public class Page
    {
        public int id { get; set; }
        public string sanitizedWikiUrl { get; set; }
        public string sanitizedGitUrl { get; set; }
        public string path { get; set; }
        public string remoteUrl { get; set; }
        public string gitItemPath { get; set; }
        public bool isParentPage { get; set; }
        public string url { get; set; }
        public string content { get; set; }
        public Page[] subPages { get; set; }
        public List<(LinkInline link, string sanitizedUrl, ConsoleColor color)> links { get; set; } = new List<(LinkInline link, string sanitizedUrl, ConsoleColor color)>();
    }
}
